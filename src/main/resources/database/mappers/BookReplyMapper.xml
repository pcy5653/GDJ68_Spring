<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.iu.main.bookReply.BookReplyDAO">
  	
  	<!-- List : 상품 댓글 list -->
  	<select id="getList" parameterType="BookReplyDTO" resultType="BookReplyDTO">
  		<!-- SELECT * FROM
	  		(SELECT ROWNUM R, B.* FROM
		  		(SELECT * FROM BOOKREPLY 	
		  		WHERE BOOKNUM = #{bookNum}) B
	  		) 
  		WHERE R BETWEEN #{startRow} AND #{lastRow} -->
  		SELECT * FROM BOOKREPLY WHERE BOOKNUM = #{bookNum}
  	</select>
  	
  	<!-- Total -->
  	<select id="getTotal" resultType="Long">
  		SELECT COUNT(BOOKNUM) FROM BOOKREPLY
  	</select>
  	
  	
  	<!-- Insert : 댓글 insert -->
  	<insert id="setAdd" parameterType="BookReplyDTO">
  		INSERT INTO BOOKREPLY (REPLYNUM, BOOKNUM, ID, REPLYCONTENTS, REPLYDATE)
  		VALUES (BR_SEQ.NEXTVAL, #{bookNum}, #{id}, #{replyContents}, SYSDATE)
  	</insert>
  	
  	
  </mapper>
